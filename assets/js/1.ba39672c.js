(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{177:function(s,t,a){"use strict";a.r(t);var e=a(0),n=Object(e.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"自动推送内容到不同git平台"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自动推送内容到不同git平台","aria-hidden":"true"}},[s._v("#")]),s._v(" 自动推送内容到不同GIT平台")]),a("h2",{attrs:{id:"目标："}},[a("a",{staticClass:"header-anchor",attrs:{href:"#目标：","aria-hidden":"true"}},[s._v("#")]),s._v(" 目标：")]),a("p",[s._v("使用vuepress发布日志，想在不同git平台发布，包括github.com, gitee.com, coding.net, 无需每次手工同步，想通过脚本自动同步，但是由于不同平台配置和输入用户提示，需要依赖一些工具进行自动化操作。")]),a("h2",{attrs:{id:"环境依赖："}},[a("a",{staticClass:"header-anchor",attrs:{href:"#环境依赖：","aria-hidden":"true"}},[s._v("#")]),s._v(" 环境依赖：")]),a("p",[s._v("安装mac, git, expect, gsed")]),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("brew "),a("span",{attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{attrs:{class:"token function"}},[s._v("git")]),s._v(" "),a("span",{attrs:{class:"token function"}},[s._v("expect")]),s._v(" gnu-sed\n\n")])])]),a("h2",{attrs:{id:"大致思路："}},[a("a",{staticClass:"header-anchor",attrs:{href:"#大致思路：","aria-hidden":"true"}},[s._v("#")]),s._v(" 大致思路：")]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("1. 根据不同平台，配置vuepress：vuepress/docs/.vuepress/config.js\n2. 提交git平台时，使用expect 交互输入密码\n")])])]),a("h2",{attrs:{id:"脚本参考："}},[a("a",{staticClass:"header-anchor",attrs:{href:"#脚本参考：","aria-hidden":"true"}},[s._v("#")]),s._v(" 脚本参考：")]),a("ol",[a("li",[s._v("修改配置：")])]),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token comment"}},[s._v("#由于mac自带的sed不习惯，使用linux版本的sed")]),s._v("\ngsed -i "),a("span",{attrs:{class:"token string"}},[s._v("\"s#base:'/home/',#//base:'/home/',#g\"")]),s._v(" vuepress/docs/.vuepress/config.js\n")])])]),a("ol",[a("li",[s._v("expect语法：")])]),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token comment"}},[s._v("#!/usr/bin/expect")]),s._v("\n"),a("span",{attrs:{class:"token comment"}},[s._v("#超时300s,")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("set")]),s._v(" "),a("span",{attrs:{class:"token function"}},[s._v("timeout")]),s._v(" 300\n"),a("span",{attrs:{class:"token comment"}},[s._v("##自动提交脚本编写")]),s._v("\nspawn ./deploy.sh\n"),a("span",{attrs:{class:"token comment"}},[s._v("#匹配 Enter passphrase for key '/Users/luweb/.ssh/id_rsa':输入密码，三个平台输入三次。")]),s._v("\n"),a("span",{attrs:{class:"token function"}},[s._v("expect")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v("\"Enter passphrase for key '/Users/luweb/.ssh/id_rsa':\"")]),s._v("\nsend "),a("span",{attrs:{class:"token string"}},[s._v('"******\\r"')]),s._v("\n"),a("span",{attrs:{class:"token function"}},[s._v("expect")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v("\"Enter passphrase for key '/Users/luweb/.ssh/id_rsa':\"")]),s._v("\nsend "),a("span",{attrs:{class:"token string"}},[s._v('"******\\r"')]),s._v("\n"),a("span",{attrs:{class:"token function"}},[s._v("expect")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v("\"Enter passphrase for key '/Users/luweb/.ssh/id_rsa':\"")]),s._v("\nsend "),a("span",{attrs:{class:"token string"}},[s._v('"******\\r"')]),s._v("\ninteract\n")])])])])}],!1,null,null,null);t.default=n.exports}}]);